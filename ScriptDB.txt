use master 
go
create database RESTAURANTE_DB
go
use RESTAURANTE_DB
go

CREATE TABLE [dbo].[Categorias](
	[Id] [smallint] NOT NULL,
	[Descripcion] [varchar](50) NOT NULL,
 CONSTRAINT [PK_Categorias] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

USE [RESTAURANTE_DB]
GO

/****** Object:  Table [dbo].[Platillos]    Script Date: 14/01/2025 09:55:57 a. m. ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[Platillos](
	[Id] [smallint] NOT NULL,
	[Nombre] [varchar](50) NOT NULL,
	[Precio] [money] NOT NULL,
 CONSTRAINT [PK_Platillos] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

USE [RESTAURANTE_DB]
GO

/****** Object:  Table [dbo].[PlatillosCategorias]    Script Date: 14/01/2025 09:56:12 a. m. ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[PlatillosCategorias](
	[Id] [smallint] NOT NULL,
	[IdPlatillo] [smallint] NOT NULL,
	[IdCategoria] [smallint] NOT NULL,
 CONSTRAINT [PK_PlatillosCategorias] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[PlatillosCategorias]  WITH CHECK ADD  CONSTRAINT [FK_PlatillosCategorias_Categorias] FOREIGN KEY([IdCategoria])
REFERENCES [dbo].[Categorias] ([Id])
GO

ALTER TABLE [dbo].[PlatillosCategorias] CHECK CONSTRAINT [FK_PlatillosCategorias_Categorias]
GO

ALTER TABLE [dbo].[PlatillosCategorias]  WITH CHECK ADD  CONSTRAINT [FK_PlatillosCategorias_Platillos] FOREIGN KEY([IdPlatillo])
REFERENCES [dbo].[Platillos] ([Id])
GO

ALTER TABLE [dbo].[PlatillosCategorias] CHECK CONSTRAINT [FK_PlatillosCategorias_Platillos]
GO

USE [RESTAURANTE_DB]
GO

/****** Object:  Table [dbo].[Meseros]    Script Date: 14/01/2025 09:56:24 a. m. ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[Meseros](
	[Id] [smallint] NOT NULL,
	[Nombre] [varchar](100) NOT NULL,
 CONSTRAINT [PK_Meseros] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

USE [RESTAURANTE_DB]
GO

/****** Object:  Table [dbo].[Ventas]    Script Date: 14/01/2025 09:56:35 a. m. ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[Ventas](
	[Id] [smallint] NOT NULL,
	[IdMesero] [smallint] NOT NULL,
	[Fecha] [smalldatetime] NOT NULL,
	[TotalCuenta] [money] NOT NULL,
	[PlatillosConsumidos] [smallint] NOT NULL,
	[NumeroPersonas] [smallint] NOT NULL,
 CONSTRAINT [PK_Ventas] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[Ventas]  WITH CHECK ADD  CONSTRAINT [FK_Ventas_Meseros] FOREIGN KEY([IdMesero])
REFERENCES [dbo].[Meseros] ([Id])
GO

ALTER TABLE [dbo].[Ventas] CHECK CONSTRAINT [FK_Ventas_Meseros]
GO